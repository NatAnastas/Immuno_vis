---
title: "Diversity estimation"
---

Diversity estimation within immune cell populations is a fundamental analysis in immunoinformatics. Diversity estimation refers to the process of analyzing and quantifying the diversity of immune cells, such as T cells or B cells. 

One commonly utilized method for this analysis is the Shannon index, which effectively measures the diversity of cell types present within a sample. By considering both the abundance and evenness of various immune cell subsets, higher Shannon index values indicate a more diverse immune cell population.

## Table (Data format)

```{r}

library(data.table)
library(reactable)

df = fread("inst/data/diversity1.txt")

reactable(
  
  df, 
  theme = reactableTheme(
    backgroundColor  = "#d9e3f1"
  )
)
```

## Boxplot

### Boxplot 1

plot for boxplot

```{r}
library(ggplot2)
library(ggforce)

library(ggnewscale)
library(paletteer)

library(colorspace)
# plot 1 ---------------------

df |>
    ggplot(aes(Group, Shannon)) +
    
    geom_point(
        aes(fill = Group),
        position = position_jitternormal(sd_y = 0, sd_x = .08),
        shape = 21, size = 2, stroke = .15, color = "white"
    ) +
  
    scale_fill_manual(values = paletteer_d("ggsci::hallmarks_light_cosmic")) +
    
    geom_boxplot(width = .15, outlier.shape = NA) +
    
    theme_minimal() +
    
    theme(
        legend.position = "none",
        
        axis.line = element_line(linewidth = .55),
        axis.ticks = element_line(linewidth = .55),
        
        panel.grid.major = element_line(linewidth = .55),
        panel.grid.minor = element_line(linewidth = .45, linetype = "dashed"),
        
        plot.background = element_rect(fill = "#d9e3f1", color = NA),
        plot.margin = margin(20, 20, 20, 20)
    )
```

### Boxplot 2

plot for boxplot 2

```{r}
# plot 2 ---------------------

df |>
    ggplot(aes(Group, Shannon)) +
    
    geom_point(
        aes(fill = Patient),
        position = position_jitterdodge(jitter.width = .15, dodge.width = .5),
        shape = 21, size = 2, stroke = .15, color = "white"
    ) +
    
    geom_boxplot(aes(fill = Patient), alpha = .5, width = .5) +
    
    theme_minimal() +
    
    theme(
        plot.margin = margin(20, 20, 20, 20)
    )
```
